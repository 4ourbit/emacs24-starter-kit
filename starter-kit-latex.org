
#+TITLE: Starter Kit Latex
#+OPTIONS: toc:nil num:nil ^:nil

This is part of the [[file:starter-kit.org][Emacs Starter Kit]].

* Starter Kit Latex
  :PROPERTIES:
  :results:  silent
  :END:
Support for editing Latex

** Prerequesites

In order to use AUCTeX the following software is required in addition:

*** A working TeX installation

**** UNIX-Style systems
A popular TEX system is TEX Live which may also be available via the
package system of your operating system distribution.

**** Mac OSX
A popular TEX system for Mac OS X is MacTEX which is based on TEX
Live.

*** A recent Ghostscript

This is needed for operation of preview-latex in both DVI and PDF
mode. Most versions of Ghostscript nowadays in use should work fine
(version 7.0 and newer).

** Installation

#+begin_src emacs-lisp
  (starter-kit-install-if-needed 'auctex)
#+end_src

** Customization

#+begin_src emacs-lisp
(when (locate-library "auctex")
  (setq TeX-auto-save t)
  (setq TeX-parse-self t)

  (add-hook 'LaTeX-mode-hook 'auto-fill-mode)
  (add-hook 'LaTeX-mode-hook 'visual-line-mode)
  (add-hook 'LaTeX-mode-hook 'flyspell-mode)
  (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
  (add-hook 'LaTeX-mode-hook 'turn-on-reftex)
  (setq reftex-plug-into-AUCTeX t)
)

#+end_src
   
* Reference management with Ebib

#+BEGIN_SRC emacs-lisp
  (starter-kit-install-if-needed 'ebib)
  ;; Do not (require 'ebib) since user variables are set at a later point in the
  ;; Emacs Starter kit init process.

  (with-eval-after-load 'ebib
    (setq ebib-bibtex-dialect 'biblatex)

    (setq ebib-preload-bib-files ebib-my-bib-file)
    (setq ebib-file-search-dirs ebib-my-file-search-dirs)
    (setq ebib-notes-use-single-file ebib-my-annotations-file)

    (add-to-list 'ebib-file-associations (cons "pdf" my-pdf-viewer))

    (defun ebib-create-org-time-stamp (key db) (format-time-string (org-time-stamp-format (current-time) 'inactive)))
    (add-to-list 'ebib-notes-template-specifiers '(?Q . ebib-create-org-time-stamp))
    (defun ebib-create-org-identifier-key-only (key db) key)  ;; pure ebib uid for backlinking in org cite links
    (add-to-list 'ebib-notes-template-specifiers '(?K . ebib-create-org-identifier-key-only))
    (setq ebib-notes-template "* TODO [[cite:%K][%T]]\n:PROPERTIES:\n:Custom_id: %K\n:Created:   %Q\n:Effort:    Shift-Right\n:END:\n+ >|<\n")

    ;; add timestamp to bib entries for `ebib-list-recent'
    (setq ebib-use-timestamp t)

    ;; use cite: when pushing from ebib to org via `ebib-insert-citation'
    (setq ebib-citation-commands (assq-delete-all 'org-mode ebib-citation-commands))
    (add-to-list 'ebib-citation-commands '(org-mode (("cite" "[[cite:%K][%D]]")))))
#+END_SRC
